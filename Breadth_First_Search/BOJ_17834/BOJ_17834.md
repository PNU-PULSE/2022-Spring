
## 17834번 사자와 토끼

## 문제 링크

https://www.acmicpc.net/problem/17834

## 문제 요약

N개의 수풀과 M개의 길이 주어진다.

토끼와 사자는 각각 1개의 수풀에 위치하고 있고, 매 턴마다 주변의 연결된 수풀로 이동해야 한다.

이동한 후 토끼와 사자가 같은 수풀에 위치하고 있다면 게임이 끝나게 된다.

어떻게 움직여도 게임이 끝나지 않는 초기 위치의 경우의 수를 구해라.

## 문제 풀이

토끼 - 수풀 - 사자 형태로 배치되어 있으면 다음턴에 토끼와 사자가 가운데로 이동하면 게임이 끝나게 되고 토끼 - 사자 형태로 있으면 다음턴에 서로의 위치로 이동해도 만나지 못하고 엇갈리게 된다.

따라서 토끼와 사자 사이에 짝수 길이의 길이 존재하면 게임이 끝날 수 있는데 만약 홀수 길이의 사이클이 하나라도 존재하면 모든 수풀 사이에 짝수와 홀수 길이의 길이 존재하기 때문에 게임이 끝날 수 있다.

한 점을 기준으로 BFS 알고리즘으로 기준점과 각 점 사이의 거리를 알아내고, 다음 방문할 위치를 체크할 때 홀수 길이 사이클이 존재하는지 같이 체크한다.

거리가 홀수인 위치에 토끼를 두고 짝수인 위치에 사자를 두는 경우와 반대의 경우를 더하면 답은 (거리가 홀수인 위치의 수) × (거리가 짝수인 위치의 수) * 2 이다.
